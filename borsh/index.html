<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Crate features"><title>borsh - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../static.files/rustdoc-6c3ea77c.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="borsh" data-themes="" data-resource-suffix="" data-rustdoc-version="1.86.0 (05f9846f8 2025-03-31)" data-channel="1.86.0" data-search-js="search-581efc7a.js" data-settings-js="settings-6dad6058.js" ><script src="../static.files/storage-3a5871a4.js"></script><script defer src="../crates.js"></script><script defer src="../static.files/main-4d63596a.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-893ab5e7.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-6580c154.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-044be391.svg"></head><body class="rustdoc mod crate"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../borsh/index.html">borsh</a><span class="version">1.5.7</span></h2></div><div class="sidebar-elems"><ul class="block"><li><a id="all-types" href="all.html">All Items</a></li></ul><section id="rustdoc-toc"><h3><a href="#">Sections</a></h3><ul class="block top-toc"><li><a href="#crate-features" title="Crate features">Crate features</a><ul><li><a href="#ecosystem-features" title="Ecosystem features">Ecosystem features</a></li><li><a href="#default-features" title="Default features">Default features</a></li><li><a href="#other-features" title="Other features">Other features</a></li><li><a href="#config-aliases" title="Config aliases">Config aliases</a></li></ul></li><li><a href="#shortcuts" title="Shortcuts">Shortcuts</a></li></ul><h3><a href="#reexports">Crate Items</a></h3><ul class="block"><li><a href="#reexports" title="Re-exports">Re-exports</a></li><li><a href="#modules" title="Modules">Modules</a></li><li><a href="#functions" title="Functions">Functions</a></li><li><a href="#derives" title="Derive Macros">Derive Macros</a></li></ul></section><div id="rustdoc-modnav"></div></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><h1>Crate <span>borsh</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../src/borsh/lib.rs.html#1-86">Source</a> </span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><h2 id="crate-features"><a class="doc-anchor" href="#crate-features">§</a>Crate features</h2><h4 id="ecosystem-features"><a class="doc-anchor" href="#ecosystem-features">§</a>Ecosystem features</h4>
<ul>
<li>
<p><strong>std</strong> -
When enabled, <code>borsh</code> uses the standard library. Disabling this feature will
result in building the crate in <code>no_std</code> environment.</p>
<p>To carter such builds, Borsh offers <a href="io/index.html" title="mod borsh::io"><code>io</code></a> module which includes a items which
are used in <a href="ser/trait.BorshSerialize.html" title="trait borsh::ser::BorshSerialize"><code>BorshSerialize</code></a> and <a href="de/trait.BorshDeserialize.html" title="trait borsh::de::BorshDeserialize"><code>BorshDeserialize</code></a> traits.  Most notably
<code>io::Read</code>, <code>io::Write</code> and <code>io::Result</code>.</p>
<p>When <strong>std</strong> feature is enabled, those items are re-exports of corresponding
<code>std::io</code> items.  Otherwise they are borsh-specific types which mimic
behaviour of corresponding standard types.</p>
</li>
</ul>
<h4 id="default-features"><a class="doc-anchor" href="#default-features">§</a>Default features</h4>
<ul>
<li><strong>std</strong> - enabled by default.</li>
</ul>
<h4 id="other-features"><a class="doc-anchor" href="#other-features">§</a>Other features</h4>
<ul>
<li>
<p><strong>derive</strong> -
Gates derive macros of <a href="ser/trait.BorshSerialize.html" title="trait borsh::ser::BorshSerialize">BorshSerialize</a> and
<a href="de/trait.BorshDeserialize.html" title="trait borsh::de::BorshDeserialize">BorshDeserialize</a> traits.</p>
</li>
<li>
<p><strong>unstable__schema</strong> -
Gates <a href="schema/trait.BorshSchema.html" title="trait borsh::schema::BorshSchema">BorshSchema</a> trait and its derive macro.
Gates <a href="schema/index.html" title="mod borsh::schema">schema</a> module.
This feature requires <strong>derive</strong> to be enabled too.</p>
</li>
<li>
<p><strong>rc</strong> -
Gates implementation of <a href="ser/trait.BorshSerialize.html" title="trait borsh::ser::BorshSerialize">BorshSerialize</a> and <a href="de/trait.BorshDeserialize.html" title="trait borsh::de::BorshDeserialize">BorshDeserialize</a>
for <a href="https://doc.rust-lang.org/1.86.0/alloc/rc/struct.Rc.html" title="struct alloc::rc::Rc"><code>Rc&lt;T&gt;</code></a>/<a href="https://doc.rust-lang.org/1.86.0/alloc/sync/struct.Arc.html" title="struct alloc::sync::Arc"><code>Arc&lt;T&gt;</code></a> respectively.
In <code>no_std</code> setting <code>Rc</code>/<code>Arc</code> are pulled from <code>alloc</code> crate.
Serializing and deserializing these types
does not preserve identity and may result in multiple copies of the same data.
Be sure that this is what you want before enabling this feature.</p>
</li>
<li>
<p><strong>hashbrown</strong> -
Pulls in <a href="https://doc.rust-lang.org/1.86.0/std/collections/hash/map/struct.HashMap.html" title="struct std::collections::hash::map::HashMap">HashMap</a>/<a href="https://doc.rust-lang.org/1.86.0/std/collections/hash/set/struct.HashSet.html" title="struct std::collections::hash::set::HashSet">HashSet</a> when no <code>std</code> is available.
This feature is set to be mutually exclusive with <strong>std</strong> feature.</p>
</li>
<li>
<p><strong>bytes</strong> -
Gates implementation of <a href="ser/trait.BorshSerialize.html" title="trait borsh::ser::BorshSerialize">BorshSerialize</a> and <a href="de/trait.BorshDeserialize.html" title="trait borsh::de::BorshDeserialize">BorshDeserialize</a>
for <a href="https://docs.rs/bytes/1.5.0/bytes/struct.Bytes.html">Bytes</a> and <a href="https://docs.rs/bytes/1.5.0/bytes/struct.BytesMut.html">BytesMut</a>.</p>
</li>
<li>
<p><strong>bson</strong> -
Gates implementation of <a href="ser/trait.BorshSerialize.html" title="trait borsh::ser::BorshSerialize">BorshSerialize</a> and <a href="de/trait.BorshDeserialize.html" title="trait borsh::de::BorshDeserialize">BorshDeserialize</a>
for <a href="https://docs.rs/bson/2.9.0/bson/oid/struct.ObjectId.html">ObjectId</a>.</p>
</li>
<li>
<p><strong>indexmap</strong> -
Gates implementation of <a href="ser/trait.BorshSerialize.html" title="trait borsh::ser::BorshSerialize">BorshSerialize</a> and <a href="de/trait.BorshDeserialize.html" title="trait borsh::de::BorshDeserialize">BorshDeserialize</a>
for <a href="https://docs.rs/indexmap/2.8.0/indexmap/map/struct.IndexMap.html">indexmap::IndexMap</a> and <a href="https://docs.rs/indexmap/2.8.0/indexmap/set/struct.IndexSet.html">IndexSet</a></p>
</li>
<li>
<p><strong>ascii</strong> -
Gates implementation of <a href="ser/trait.BorshSerialize.html" title="trait borsh::ser::BorshSerialize">BorshSerialize</a>, <a href="de/trait.BorshDeserialize.html" title="trait borsh::de::BorshDeserialize">BorshDeserialize</a>, <a href="schema/trait.BorshSchema.html" title="trait borsh::schema::BorshSchema">BorshSchema</a> for
types from <a href="https://docs.rs/ascii/1.1.0/ascii/">ascii</a> crate.</p>
</li>
<li>
<p><strong>de_strict_order</strong> -
Enables check that keys, parsed during deserialization of
<a href="https://doc.rust-lang.org/1.86.0/std/collections/hash/map/struct.HashMap.html" title="struct std::collections::hash::map::HashMap">HashMap</a>/<a href="https://doc.rust-lang.org/1.86.0/std/collections/hash/set/struct.HashSet.html" title="struct std::collections::hash::set::HashSet">HashSet</a> and
<a href="https://doc.rust-lang.org/1.86.0/alloc/collections/btree/set/struct.BTreeSet.html" title="struct alloc::collections::btree::set::BTreeSet">BTreeSet</a>/<a href="https://doc.rust-lang.org/1.86.0/alloc/collections/btree/map/struct.BTreeMap.html" title="struct alloc::collections::btree::map::BTreeMap">BTreeMap</a>
are encountered in ascending order with respect to <a href="https://doc.rust-lang.org/1.86.0/core/cmp/trait.PartialOrd.html" title="trait core::cmp::PartialOrd">PartialOrd</a> for hash collections,
and <a href="https://doc.rust-lang.org/1.86.0/core/cmp/trait.Ord.html" title="trait core::cmp::Ord">Ord</a> for btree ones. Deserialization emits error otherwise.</p>
<p>If this feature is not enabled, it is possible that two different byte slices could deserialize into the same <code>HashMap</code>/<code>HashSet</code> object.</p>
</li>
</ul>
<h4 id="config-aliases"><a class="doc-anchor" href="#config-aliases">§</a>Config aliases</h4>
<ul>
<li><strong>hash_collections</strong> -
This is a feature alias, set up in <code>build.rs</code> to be equivalent to (<strong>std</strong> OR <strong>hashbrown</strong>).
Gates implementation of <a href="ser/trait.BorshSerialize.html" title="trait borsh::ser::BorshSerialize">BorshSerialize</a>, <a href="de/trait.BorshDeserialize.html" title="trait borsh::de::BorshDeserialize">BorshDeserialize</a>
and <a href="schema/trait.BorshSchema.html" title="trait borsh::schema::BorshSchema">BorshSchema</a>
for <a href="https://doc.rust-lang.org/1.86.0/std/collections/hash/map/struct.HashMap.html" title="struct std::collections::hash::map::HashMap">HashMap</a>/<a href="https://doc.rust-lang.org/1.86.0/std/collections/hash/set/struct.HashSet.html" title="struct std::collections::hash::set::HashSet">HashSet</a>.</li>
</ul>
<h2 id="shortcuts"><a class="doc-anchor" href="#shortcuts">§</a>Shortcuts</h2>
<p>Following pages are highlighted here just to give reader a chance at learning that
they exist.</p>
<ul>
<li><a href="derive.BorshSerialize.html" title="derive borsh::BorshSerialize">Derive Macro <code>BorshSerialize</code></a></li>
<li><a href="derive.BorshDeserialize.html" title="derive borsh::BorshDeserialize">Derive Macro <code>BorshDeserialize</code></a></li>
<li><a href="derive.BorshSchema.html" title="derive borsh::BorshSchema">Derive Macro <code>BorshSchema</code></a></li>
</ul>
</div></details><h2 id="reexports" class="section-header">Re-exports<a href="#reexports" class="anchor">§</a></h2><dl class="item-table reexports"><dt id="reexport.BorshDeserialize"><code>pub use de::<a class="trait" href="de/trait.BorshDeserialize.html" title="trait borsh::de::BorshDeserialize">BorshDeserialize</a>;</code></dt><dt id="reexport.from_reader"><code>pub use de::<a class="fn" href="de/fn.from_reader.html" title="fn borsh::de::from_reader">from_reader</a>;</code></dt><dt id="reexport.from_slice"><code>pub use de::<a class="fn" href="de/fn.from_slice.html" title="fn borsh::de::from_slice">from_slice</a>;</code></dt><dt id="reexport.BorshSchema"><code>pub use schema::<a class="trait" href="schema/trait.BorshSchema.html" title="trait borsh::schema::BorshSchema">BorshSchema</a>;</code></dt><dt id="reexport.BorshSerialize"><code>pub use ser::<a class="trait" href="ser/trait.BorshSerialize.html" title="trait borsh::ser::BorshSerialize">BorshSerialize</a>;</code></dt></dl><h2 id="modules" class="section-header">Modules<a href="#modules" class="anchor">§</a></h2><dl class="item-table"><dt><a class="mod" href="de/index.html" title="mod borsh::de">de</a></dt><dt><a class="mod" href="error/index.html" title="mod borsh::error">error</a></dt><dt><a class="mod" href="io/index.html" title="mod borsh::io">io</a></dt><dd>Subset of <code>std::io</code> which is used as part of borsh public API.</dd><dt><a class="mod" href="schema/index.html" title="mod borsh::schema">schema</a></dt><dd>Module is available if borsh is built with <code>features = ["unstable__schema"]</code>.</dd><dt><a class="mod" href="ser/index.html" title="mod borsh::ser">ser</a></dt></dl><h2 id="functions" class="section-header">Functions<a href="#functions" class="anchor">§</a></h2><dl class="item-table"><dt><a class="fn" href="fn.max_serialized_size.html" title="fn borsh::max_serialized_size">max_<wbr>serialized_<wbr>size</a></dt><dd>Returns the largest possible size of a serialised object based solely on its type <code>T</code>.</dd><dt><a class="fn" href="fn.object_length.html" title="fn borsh::object_length">object_<wbr>length</a></dt><dd>Serializes an object without allocation to compute and return its length</dd><dt><a class="fn" href="fn.schema_container_of.html" title="fn borsh::schema_container_of">schema_<wbr>container_<wbr>of</a></dt><dd>generate <a href="schema/struct.BorshSchemaContainer.html" title="struct borsh::schema::BorshSchemaContainer">BorshSchemaContainer</a> for type <code>T</code></dd><dt><a class="fn" href="fn.to_vec.html" title="fn borsh::to_vec">to_vec</a></dt><dd>Serialize an object into a vector of bytes.</dd><dt><a class="fn" href="fn.to_writer.html" title="fn borsh::to_writer">to_<wbr>writer</a></dt><dd>Serializes an object directly into a <code>Writer</code>.</dd><dt><a class="fn" href="fn.try_from_slice_with_schema.html" title="fn borsh::try_from_slice_with_schema">try_<wbr>from_<wbr>slice_<wbr>with_<wbr>schema</a></dt><dd>Deserialize this instance from a slice of bytes, but assume that at the beginning we have
bytes describing the schema of the type. We deserialize this schema and verify that it is
correct.</dd><dt><a class="fn" href="fn.try_to_vec_with_schema.html" title="fn borsh::try_to_vec_with_schema">try_<wbr>to_<wbr>vec_<wbr>with_<wbr>schema</a></dt><dd>Serialize object into a vector of bytes and prefix with the schema serialized as vector of
bytes in Borsh format.</dd></dl><h2 id="derives" class="section-header">Derive Macros<a href="#derives" class="anchor">§</a></h2><dl class="item-table"><dt><a class="derive" href="derive.BorshDeserialize.html" title="derive borsh::BorshDeserialize">Borsh<wbr>Deserialize</a></dt><dd>Derive macro available if borsh is built with <code>features = ["derive"]</code>.</dd><dt><a class="derive" href="derive.BorshSchema.html" title="derive borsh::BorshSchema">Borsh<wbr>Schema</a></dt><dd>Derive macro available if borsh is built with <code>features = ["unstable__schema"]</code>.</dd><dt><a class="derive" href="derive.BorshSerialize.html" title="derive borsh::BorshSerialize">Borsh<wbr>Serialize</a></dt><dd>Derive macro available if borsh is built with <code>features = ["derive"]</code>.</dd></dl><script type="text/json" id="notable-traits-data">{"&[u8]":"<h3>Notable traits for <code>&amp;[<a class=\"primitive\" href=\"https://doc.rust-lang.org/1.86.0/std/primitive.u8.html\">u8</a>]</code></h3><pre><code><div class=\"where\">impl <a class=\"trait\" href=\"io/trait.Read.html\" title=\"trait borsh::io::Read\">Read</a> for &amp;[<a class=\"primitive\" href=\"https://doc.rust-lang.org/1.86.0/std/primitive.u8.html\">u8</a>]</div>","&mut Vec<u8>":"<h3>Notable traits for <code><a class=\"struct\" href=\"https://doc.rust-lang.org/1.86.0/alloc/vec/struct.Vec.html\" title=\"struct alloc::vec::Vec\">Vec</a>&lt;<a class=\"primitive\" href=\"https://doc.rust-lang.org/1.86.0/std/primitive.u8.html\">u8</a>, A&gt;</code></h3><pre><code><div class=\"where\">impl&lt;A&gt; <a class=\"trait\" href=\"io/trait.Write.html\" title=\"trait borsh::io::Write\">Write</a> for <a class=\"struct\" href=\"https://doc.rust-lang.org/1.86.0/alloc/vec/struct.Vec.html\" title=\"struct alloc::vec::Vec\">Vec</a>&lt;<a class=\"primitive\" href=\"https://doc.rust-lang.org/1.86.0/std/primitive.u8.html\">u8</a>, A&gt;<div class=\"where\">where\n    A: <a class=\"trait\" href=\"https://doc.rust-lang.org/1.86.0/core/alloc/trait.Allocator.html\" title=\"trait core::alloc::Allocator\">Allocator</a>,</div></div>","Drain<'_>":"<h3>Notable traits for <code><a class=\"struct\" href=\"https://doc.rust-lang.org/1.86.0/alloc/string/struct.Drain.html\" title=\"struct alloc::string::Drain\">Drain</a>&lt;'_&gt;</code></h3><pre><code><div class=\"where\">impl <a class=\"trait\" href=\"https://doc.rust-lang.org/1.86.0/core/iter/traits/iterator/trait.Iterator.html\" title=\"trait core::iter::traits::iterator::Iterator\">Iterator</a> for <a class=\"struct\" href=\"https://doc.rust-lang.org/1.86.0/alloc/string/struct.Drain.html\" title=\"struct alloc::string::Drain\">Drain</a>&lt;'_&gt;</div><div class=\"where\">    type <a href=\"https://doc.rust-lang.org/1.86.0/core/iter/traits/iterator/trait.Iterator.html#associatedtype.Item\" class=\"associatedtype\">Item</a> = <a class=\"primitive\" href=\"https://doc.rust-lang.org/1.86.0/std/primitive.char.html\">char</a>;</div>","IntoChars":"<h3>Notable traits for <code><a class=\"struct\" href=\"https://doc.rust-lang.org/1.86.0/alloc/string/struct.IntoChars.html\" title=\"struct alloc::string::IntoChars\">IntoChars</a></code></h3><pre><code><div class=\"where\">impl <a class=\"trait\" href=\"https://doc.rust-lang.org/1.86.0/core/iter/traits/iterator/trait.Iterator.html\" title=\"trait core::iter::traits::iterator::Iterator\">Iterator</a> for <a class=\"struct\" href=\"https://doc.rust-lang.org/1.86.0/alloc/string/struct.IntoChars.html\" title=\"struct alloc::string::IntoChars\">IntoChars</a></div><div class=\"where\">    type <a href=\"https://doc.rust-lang.org/1.86.0/core/iter/traits/iterator/trait.Iterator.html#associatedtype.Item\" class=\"associatedtype\">Item</a> = <a class=\"primitive\" href=\"https://doc.rust-lang.org/1.86.0/std/primitive.char.html\">char</a>;</div>","Vec<u8>":"<h3>Notable traits for <code><a class=\"struct\" href=\"https://doc.rust-lang.org/1.86.0/alloc/vec/struct.Vec.html\" title=\"struct alloc::vec::Vec\">Vec</a>&lt;<a class=\"primitive\" href=\"https://doc.rust-lang.org/1.86.0/std/primitive.u8.html\">u8</a>, A&gt;</code></h3><pre><code><div class=\"where\">impl&lt;A&gt; <a class=\"trait\" href=\"io/trait.Write.html\" title=\"trait borsh::io::Write\">Write</a> for <a class=\"struct\" href=\"https://doc.rust-lang.org/1.86.0/alloc/vec/struct.Vec.html\" title=\"struct alloc::vec::Vec\">Vec</a>&lt;<a class=\"primitive\" href=\"https://doc.rust-lang.org/1.86.0/std/primitive.u8.html\">u8</a>, A&gt;<div class=\"where\">where\n    A: <a class=\"trait\" href=\"https://doc.rust-lang.org/1.86.0/core/alloc/trait.Allocator.html\" title=\"trait core::alloc::Allocator\">Allocator</a>,</div></div>"}</script></section></div></main></body></html>